{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CTF Desktop</title>
{% tailwind_css %}

<!-- External CSS -->
<link rel="stylesheet" href="{% static 'accounts/css/challenge.css' %}">
<!-- External JS -->
<script defer src="{% static 'accounts/js/challenge.js' %}"></script>

</head>

<body class="m-0 p-0 h-screen w-screen font-mono relative"
      style="background: url('{% static 'accounts/images/desktop_wallpaper.png' %}') no-repeat center center fixed; background-size: cover;">

<!-- ==============================
     DESKTOP WORKSPACE
     ============================== -->
<div class="desktop-area">

    <!-- EXAMPLE WINDOW (Text Editor / Notes) -->
    <c-text 
        editor_id="welcome-editor" 
        editor_title="Welcome.txt"
        content="{{ initial_text_content }}">
    </c-text>

</div>

<!-- ==============================
     TASKBAR
     ============================== -->
<div class="taskbar">
    
    <!-- LEFT SECTION: POWER + APP GRID -->
    <div class="taskbar-left">
        
        <!-- Power Button -->
        <div class="power-wrapper">
            <button id="power-btn" class="taskbar-icon power-button">â»</button>

            <div id="power-dropdown" class="dropdown-panel hidden">
                <button onclick="window.location.href='{% url 'logout_page' %}'">Log Out</button>
                <button onclick="window.location.href='{% url 'challenges_page' %}'">Power Off</button>
                <button onclick="alert('Restart feature to be implemented')">Restart</button>
            </div>
        </div>

        <!-- App Drawer Button -->
        <button class="taskbar-icon appgrid-button">
            â‹®â‹®â‹®
        </button>
    </div>

    <!-- CENTER SECTION: APP ICONS -->
    <div class="taskbar-center">
        <button class="taskbar-icon" onclick="openWindow('notes-window')">ğŸ“„</button>
        <button class="taskbar-icon">ğŸ–¥ï¸</button>
        <button class="taskbar-icon">ğŸŒ</button>
        <button class="taskbar-icon">ğŸ“</button>
    </div>

    <!-- RIGHT SECTION: CLOCK -->
    <div class="taskbar-right">
        <span id="clock" class="clock-text">00:00</span>
    </div>

</div>

</body>
</html>
